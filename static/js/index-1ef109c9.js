import{d as z,u as D,c as R,o as p,e as S,h as c,f as e,w as l,g as a,a1 as t,D as u,i as A}from"./index-f8fc1903.js";import{e as N}from"./el-popper-cc5d3f66.js";import{E as T}from"./el-avatar-c62efc82.js";import{E as B}from"./el-card-40f7ef58.js";import{b as I}from"./el-overlay-95830dc5.js";import{E as U}from"./el-button-e7c22a1d.js";/* empty css                */import{u as O,a as M,b as V,_ as j}from"./useComponents-25d93c90.js";import{i as F,_ as G}from"./dialog.vue_vue_type_script_setup_true_lang-5f80efa9.js";import"./lodash-f24acc27.js";import"./mock-70785340.js";import"./event-e06a23af.js";import"./vnode-3dd6e9fc.js";import"./index-dabd5a62.js";import"./el-input-049d6135.js";import"./el-checkbox-1d8fcb6d.js";import"./strings-118b28ce.js";import"./el-tooltip-4ed993c7.js";import"./el-form-item-c07395c9.js";const $=[{label:"名称",field:"name",type:"input",placeholder:"请输入关键字"},{label:"权限",field:"permissions",type:"select",placeholder:"选择权限",children:[{label:"📇 管理员",value:"ADMIN"},{label:"⛕ 用户",value:"USER"},{label:"⛕ 游客",value:"GUEST"}]},{label:"部门",field:"department",type:"select",placeholder:"选择属性",children:[{label:"人力资源部",value:"人力资源部"},{label:"财务部",value:"财务部"},{label:"销售部",value:"销售部"},{label:"市场部",value:"市场部"},{label:"生产部",value:"生产部"},{label:"技术部",value:"技术部"},{label:"质量管理部",value:"质量管理部"},{label:"物资管理部",value:"物资管理部"}]}],P={labelPosition:"left",labelWidth:"80px",itemStyle:{style:{width:"100%"}},options:[{label:"名称",field:"name",type:"input",placeholder:"请输入名称"},{label:"权限",field:"permissions",type:"select",placeholder:"选择权限",children:[{label:"📇 管理员",value:"ADMIN"},{label:"⛕ 用户",value:"USER"},{label:"⛕ 游客",value:"GUEST"}]},{label:"头像",field:"avatar",type:"upload",placeholder:"请上传头像"},{label:"部门",field:"department",type:"select",placeholder:"选择属性",children:[{label:"人力资源部",value:"人力资源部"},{label:"财务部",value:"财务部"},{label:"销售部",value:"销售部"},{label:"市场部",value:"市场部"},{label:"生产部",value:"生产部"},{label:"技术部",value:"技术部"},{label:"质量管理部",value:"质量管理部"},{label:"物资管理部",value:"物资管理部"}]},{label:"描述",field:"describe",type:"input",placeholder:"请详细描述一下"}]},W=[{label:"名称",prop:"name",width:"60px"},{label:"权限",prop:"permissions",width:"100px"},{label:"头像",prop:"avatar",width:"120px"},{label:"部门",prop:"department",width:"120px"},{label:"描述",prop:"describe",width:"380px",otherAttr:{showOverflowTooltip:!0}},{label:"创建人",prop:"creator"},{label:"操作",prop:"handle",width:"200px"}],q={flex:"","flex-col":"","gap-y-3":"",direction:"vertical"},H={flex:"","justify-between":"","flex-auto":""},J={"flex-1":""},K={flex:"","items-center":"","justify-center":"","flex-1":""},ve=z({__name:"permissions-view",setup(L){const{systemStore:f}=D(),[h,y,x]=O(),[k,g]=M(),[E,i,_]=V(),w=()=>{f.sendApi("permissions",i.value.size,i.value.number,g.value)},d=()=>{f.sendApi("permissions",i.value.size,i.value.number)};return(Q,X)=>{const n=R("svg-icon"),r=A,o=U,b=I,v=B,C=T,m=N;return p(),S("div",null,[c("div",q,[e(v,null,{default:l(()=>[c("section",H,[c("div",J,[e(a(F),{ref_key:"formRef",ref:k,options:a($),"label-position":"top"},null,8,["options"]),e(b,null,{default:l(()=>[e(o,{type:"primary",onClick:a(y)},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"add"})]),_:1}),t(" 新增 ")]),_:1},8,["onClick"]),e(o,{type:"danger",flex:"","items-center":"",disabled:a(_)&&a(_).length===0,onClick:d},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"delete"})]),_:1}),t(" 删除 ")]),_:1},8,["disabled"])]),_:1})]),c("div",K,[e(b,null,{default:l(()=>[e(o,{type:"primary",onClick:w},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"search"})]),_:1}),t(" 查询 ")]),_:1}),e(o,{onClick:d},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"reset"})]),_:1}),t(" 重置 ")]),_:1})]),_:1})])])]),_:1}),e(v,null,{default:l(()=>[e(a(j),{ref_key:"tableRef",ref:E,"table-options":a(W),"data-name":"permissions"},{avatar:l(({row:s})=>[e(C,{src:s.avatar},null,8,["src"])]),permissions:l(({row:s})=>[s.permissions==="ADMIN"?(p(),u(m,{key:0,size:"large"},{default:l(()=>[t("管理员")]),_:1})):s.permissions==="USER"?(p(),u(m,{key:1,size:"large",class:"ml-2",type:"success"},{default:l(()=>[t("  用户  ")]),_:1})):(p(),u(m,{key:2,class:"ml-2",size:"large",type:"info"},{default:l(()=>[t(" 游客 ")]),_:1}))]),handle:l(({row:s})=>[e(o,{plain:"",type:"warning",onClick:()=>a(x)(s)},{default:l(()=>[t(" 编辑 ")]),_:2},1032,["onClick"]),e(o,{plain:"",type:"danger",onClick:d},{default:l(()=>[t(" 删除 ")]),_:1})]),_:1},8,["table-options"])]),_:1})]),e(a(G),{ref_key:"modelRef",ref:h,"model-form-options":a(P)},null,8,["model-form-options"])])}}});export{ve as default};
