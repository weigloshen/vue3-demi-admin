import{d as z,u as D,c as R,o as p,e as S,h as c,f as e,w as l,g as a,a1 as t,D as u,i as A}from"./index-f8fc1903.js";import{e as N}from"./el-popper-cc5d3f66.js";import{E as T}from"./el-avatar-c62efc82.js";import{E as B}from"./el-card-40f7ef58.js";import{b as I}from"./el-overlay-95830dc5.js";import{E as U}from"./el-button-e7c22a1d.js";/* empty css                */import{u as O,a as M,b as V,_ as j}from"./useComponents-25d93c90.js";import{i as F,_ as G}from"./dialog.vue_vue_type_script_setup_true_lang-5f80efa9.js";import"./lodash-f24acc27.js";import"./mock-70785340.js";import"./event-e06a23af.js";import"./vnode-3dd6e9fc.js";import"./index-dabd5a62.js";import"./el-input-049d6135.js";import"./el-checkbox-1d8fcb6d.js";import"./strings-118b28ce.js";import"./el-tooltip-4ed993c7.js";import"./el-form-item-c07395c9.js";const $=[{label:"åç§°",field:"name",type:"input",placeholder:"è¯·è¾“å…¥å…³é”®å­—"},{label:"æƒé™",field:"permissions",type:"select",placeholder:"é€‰æ‹©æƒé™",children:[{label:"ðŸ“‡ ç®¡ç†å‘˜",value:"ADMIN"},{label:"â›• ç”¨æˆ·",value:"USER"},{label:"â›• æ¸¸å®¢",value:"GUEST"}]},{label:"éƒ¨é—¨",field:"department",type:"select",placeholder:"é€‰æ‹©å±žæ€§",children:[{label:"äººåŠ›èµ„æºéƒ¨",value:"äººåŠ›èµ„æºéƒ¨"},{label:"è´¢åŠ¡éƒ¨",value:"è´¢åŠ¡éƒ¨"},{label:"é”€å”®éƒ¨",value:"é”€å”®éƒ¨"},{label:"å¸‚åœºéƒ¨",value:"å¸‚åœºéƒ¨"},{label:"ç”Ÿäº§éƒ¨",value:"ç”Ÿäº§éƒ¨"},{label:"æŠ€æœ¯éƒ¨",value:"æŠ€æœ¯éƒ¨"},{label:"è´¨é‡ç®¡ç†éƒ¨",value:"è´¨é‡ç®¡ç†éƒ¨"},{label:"ç‰©èµ„ç®¡ç†éƒ¨",value:"ç‰©èµ„ç®¡ç†éƒ¨"}]}],P={labelPosition:"left",labelWidth:"80px",itemStyle:{style:{width:"100%"}},options:[{label:"åç§°",field:"name",type:"input",placeholder:"è¯·è¾“å…¥åç§°"},{label:"æƒé™",field:"permissions",type:"select",placeholder:"é€‰æ‹©æƒé™",children:[{label:"ðŸ“‡ ç®¡ç†å‘˜",value:"ADMIN"},{label:"â›• ç”¨æˆ·",value:"USER"},{label:"â›• æ¸¸å®¢",value:"GUEST"}]},{label:"å¤´åƒ",field:"avatar",type:"upload",placeholder:"è¯·ä¸Šä¼ å¤´åƒ"},{label:"éƒ¨é—¨",field:"department",type:"select",placeholder:"é€‰æ‹©å±žæ€§",children:[{label:"äººåŠ›èµ„æºéƒ¨",value:"äººåŠ›èµ„æºéƒ¨"},{label:"è´¢åŠ¡éƒ¨",value:"è´¢åŠ¡éƒ¨"},{label:"é”€å”®éƒ¨",value:"é”€å”®éƒ¨"},{label:"å¸‚åœºéƒ¨",value:"å¸‚åœºéƒ¨"},{label:"ç”Ÿäº§éƒ¨",value:"ç”Ÿäº§éƒ¨"},{label:"æŠ€æœ¯éƒ¨",value:"æŠ€æœ¯éƒ¨"},{label:"è´¨é‡ç®¡ç†éƒ¨",value:"è´¨é‡ç®¡ç†éƒ¨"},{label:"ç‰©èµ„ç®¡ç†éƒ¨",value:"ç‰©èµ„ç®¡ç†éƒ¨"}]},{label:"æè¿°",field:"describe",type:"input",placeholder:"è¯·è¯¦ç»†æè¿°ä¸€ä¸‹"}]},W=[{label:"åç§°",prop:"name",width:"60px"},{label:"æƒé™",prop:"permissions",width:"100px"},{label:"å¤´åƒ",prop:"avatar",width:"120px"},{label:"éƒ¨é—¨",prop:"department",width:"120px"},{label:"æè¿°",prop:"describe",width:"380px",otherAttr:{showOverflowTooltip:!0}},{label:"åˆ›å»ºäºº",prop:"creator"},{label:"æ“ä½œ",prop:"handle",width:"200px"}],q={flex:"","flex-col":"","gap-y-3":"",direction:"vertical"},H={flex:"","justify-between":"","flex-auto":""},J={"flex-1":""},K={flex:"","items-center":"","justify-center":"","flex-1":""},ve=z({__name:"permissions-view",setup(L){const{systemStore:f}=D(),[h,y,x]=O(),[k,g]=M(),[E,i,_]=V(),w=()=>{f.sendApi("permissions",i.value.size,i.value.number,g.value)},d=()=>{f.sendApi("permissions",i.value.size,i.value.number)};return(Q,X)=>{const n=R("svg-icon"),r=A,o=U,b=I,v=B,C=T,m=N;return p(),S("div",null,[c("div",q,[e(v,null,{default:l(()=>[c("section",H,[c("div",J,[e(a(F),{ref_key:"formRef",ref:k,options:a($),"label-position":"top"},null,8,["options"]),e(b,null,{default:l(()=>[e(o,{type:"primary",onClick:a(y)},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"add"})]),_:1}),t(" æ–°å¢ž ")]),_:1},8,["onClick"]),e(o,{type:"danger",flex:"","items-center":"",disabled:a(_)&&a(_).length===0,onClick:d},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"delete"})]),_:1}),t(" åˆ é™¤ ")]),_:1},8,["disabled"])]),_:1})]),c("div",K,[e(b,null,{default:l(()=>[e(o,{type:"primary",onClick:w},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"search"})]),_:1}),t(" æŸ¥è¯¢ ")]),_:1}),e(o,{onClick:d},{default:l(()=>[e(r,{size:14,"mr-2":""},{default:l(()=>[e(n,{name:"reset"})]),_:1}),t(" é‡ç½® ")]),_:1})]),_:1})])])]),_:1}),e(v,null,{default:l(()=>[e(a(j),{ref_key:"tableRef",ref:E,"table-options":a(W),"data-name":"permissions"},{avatar:l(({row:s})=>[e(C,{src:s.avatar},null,8,["src"])]),permissions:l(({row:s})=>[s.permissions==="ADMIN"?(p(),u(m,{key:0,size:"large"},{default:l(()=>[t("ç®¡ç†å‘˜")]),_:1})):s.permissions==="USER"?(p(),u(m,{key:1,size:"large",class:"ml-2",type:"success"},{default:l(()=>[t(" Â ç”¨æˆ·Â  ")]),_:1})):(p(),u(m,{key:2,class:"ml-2",size:"large",type:"info"},{default:l(()=>[t("Â æ¸¸å®¢Â ")]),_:1}))]),handle:l(({row:s})=>[e(o,{plain:"",type:"warning",onClick:()=>a(x)(s)},{default:l(()=>[t(" ç¼–è¾‘ ")]),_:2},1032,["onClick"]),e(o,{plain:"",type:"danger",onClick:d},{default:l(()=>[t(" åˆ é™¤ ")]),_:1})]),_:1},8,["table-options"])]),_:1})]),e(a(G),{ref_key:"modelRef",ref:h,"model-form-options":a(P)},null,8,["model-form-options"])])}}});export{ve as default};
