var Qe=Object.defineProperty,et=Object.defineProperties;var tt=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var st=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable;var ke=(e,t,s)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,A=(e,t)=>{for(var s in t||(t={}))st.call(t,s)&&ke(e,s,t[s]);if(be)for(var s of be(t))at.call(t,s)&&ke(e,s,t[s]);return e},z=(e,t)=>et(e,tt(t));var fe=(e,t,s)=>new Promise((a,l)=>{var p=c=>{try{v(s.next(c))}catch(i){l(i)}},u=c=>{try{v(s.throw(c))}catch(i){l(i)}},v=c=>c.done?a(c.value):Promise.resolve(c.value).then(p,u);v((s=s.apply(e,t)).next())});import{ay as Me,aw as nt,n as j,M as Ie,ai as we,O as ae,az as ot,ag as lt,aA as rt,ah as it,aB as _,l as U,z as b,d as O,f as F,t as P,ak as Ue,m as ut,aC as ct,A as dt,aD as ft,b as H,aE as pt,P as $,Q as yt,Z as vt,s as mt,aF as ht,al as Se,aG as gt,aH as Ne,aI as bt,aJ as Ae,a3 as ze,U as pe,o as S,e as T,x as k,g as n,h as x,R as X,H as ie,$ as E,D as I,w as B,G as kt,i as Z,y as ne,I as ge,W as wt,ae as J,aK as le,aL as xe,a1 as St,aM as $t,ao as ye,Y as Et,F as Ct,X as _t,a0 as We,a5 as Q,aN as Pt,aO as Tt,aP as Rt,aQ as Ft,B as Lt,N as ve,aR as Bt,aS as Ot,a4 as Dt,a7 as Mt,q as It,aa as Ut,af as $e,K as Ee}from"./index-f8fc1903.js";import{P as M,i as Ce,a as Nt}from"./vnode-3dd6e9fc.js";import{t as ue,U as je,d as At}from"./event-e06a23af.js";import{d as _e,b as ce}from"./el-button-e7c22a1d.js";import{g as zt}from"./el-popper-cc5d3f66.js";import{i as Ve}from"./lodash-f24acc27.js";const ra=(...e)=>t=>{e.forEach(s=>{Me(s)?s(t):s.value=t})},xt=()=>{},Wt=Array.isArray,jt=e=>typeof e=="function",Vt=e=>typeof e=="symbol";let Ht;function qt(e,t=Ht){t&&t.active&&t.effects.push(e)}const Kt=e=>{const t=new Set(e);return t.w=0,t.n=0,t},He=e=>(e.w&q)>0,qe=e=>(e.n&q)>0,Yt=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=q},Gt=e=>{const{deps:t}=e;if(t.length){let s=0;for(let a=0;a<t.length;a++){const l=t[a];He(l)&&!qe(l)?l.delete(e):t[s++]=l,l.w&=~q,l.n&=~q}t.length=s}};let se=0,q=1;const me=30;let W;class Xt{constructor(t,s=null,a){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,qt(this,a)}run(){if(!this.active)return this.fn();let t=W,s=re;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=W,W=this,re=!0,q=1<<++se,se<=me?Yt(this):Pe(this),this.fn()}finally{se<=me&&Gt(this),q=1<<--se,W=this.parent,re=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){W===this?this.deferStop=!0:this.active&&(Pe(this),this.onStop&&this.onStop(),this.active=!1)}}function Pe(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}let re=!0;function Zt(e,t){let s=!1;se<=me?qe(e)||(e.n|=q,s=!He(e)):s=!e.has(W),s&&(e.add(W),W.deps.push(e))}function Jt(e,t){const s=Wt(e)?e:[...e];for(const a of s)a.computed&&Te(a);for(const a of s)a.computed||Te(a)}function Te(e,t){(e!==W||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function de(e){const t=e&&e.__v_raw;return t?de(t):e}function Qt(e){re&&W&&(e=de(e),Zt(e.dep||(e.dep=Kt())))}function es(e,t){e=de(e);const s=e.dep;s&&Jt(s)}var Ke;class ts{constructor(t,s,a,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Ke]=!1,this._dirty=!0,this.effect=new Xt(t,()=>{this._dirty||(this._dirty=!0,es(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=a}get value(){const t=de(this);return Qt(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Ke="__v_isReadonly";function ss(e,t,s=!1){let a,l;const p=jt(e);return p?(a=e,l=xt):(a=e.get,l=e.set),new ts(a,l,p||!l,s)}const as=e=>{nt(e)||ue("[useLockscreen]","You need to pass a ref param to this function");const t=j("popup"),s=ss(()=>t.bm("parent","hidden"));if(!Ie||we(document.body,s.value))return;let a=0,l=!1,p="0";const u=()=>{setTimeout(()=>{it(document==null?void 0:document.body,s.value),l&&document&&(document.body.style.width=p)},200)};ae(e,v=>{if(!v){u();return}l=!we(document.body,s.value),l&&(p=document.body.style.width),a=zt(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,i=ot(document.body,"overflowY");a>0&&(c||i==="scroll")&&l&&(document.body.style.width=`calc(100% - ${a}px)`),lt(document.body,s.value)}),rt(()=>u())},ns=e=>{if(!e)return{onClick:_,onMousedown:_,onMouseup:_};let t=!1,s=!1;return{onClick:u=>{t&&s&&e(u),t=s=!1},onMousedown:u=>{t=u.target===u.currentTarget},onMouseup:u=>{s=u.target===u.currentTarget}}},os=U({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:b([String,Array,Object])},zIndex:{type:b([String,Number])}}),ls={click:e=>e instanceof MouseEvent};var rs=O({name:"ElOverlay",props:os,emits:ls,setup(e,{slots:t,emit:s}){const a=j("overlay"),l=c=>{s("click",c)},{onClick:p,onMousedown:u,onMouseup:v}=ns(e.customMaskEvent?void 0:l);return()=>e.mask?F("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:p,onMousedown:u,onMouseup:v},[P(t,"default")],M.STYLE|M.CLASS|M.PROPS,["onClick","onMouseup","onMousedown"]):Ue("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[P(t,"default")])}});const ia=rs,is=U({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:ut},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ua={close:()=>!0},ca=U(z(A({},is),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:b(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),da={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[je]:e=>ct(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},fa=(e,t)=>{const a=dt().emit,{nextZIndex:l}=ft();let p="";const u=_e(),v=_e(),c=H(!1),i=H(!1),g=H(!1),m=H(e.zIndex||l());let r,d;const o=pt("namespace",ht),h=$(()=>{const D={},G=`--${o.value}-dialog`;return e.fullscreen||(e.top&&(D[`${G}-margin-top`]=e.top),e.width&&(D[`${G}-width`]=yt(e.width))),D}),w=$(()=>e.alignCenter?{display:"flex"}:{});function y(){a("opened")}function V(){a("closed"),a(je,!1),e.destroyOnClose&&(g.value=!1)}function f(){a("close")}function R(){d==null||d(),r==null||r(),e.openDelay&&e.openDelay>0?{stop:r}=Se(()=>oe(),e.openDelay):oe()}function L(){r==null||r(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=Se(()=>K(),e.closeDelay):K()}function C(){function D(G){G||(i.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(D):L()}function N(){e.closeOnClickModal&&C()}function oe(){Ie&&(c.value=!0)}function K(){c.value=!1}function ee(){a("openAutoFocus")}function te(){a("closeAutoFocus")}function Y(D){var G;((G=D.detail)==null?void 0:G.focusReason)==="pointer"&&D.preventDefault()}e.lockScroll&&as(c);function Je(){e.closeOnPressEscape&&C()}return ae(()=>e.modelValue,D=>{D?(i.value=!1,R(),g.value=!0,m.value=e.zIndex?m.value++:l(),vt(()=>{a("open"),t.value&&(t.value.scrollTop=0)})):c.value&&L()}),ae(()=>e.fullscreen,D=>{t.value&&(D?(p=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=p)}),mt(()=>{e.modelValue&&(c.value=!0,g.value=!0,R())}),{afterEnter:y,afterLeave:V,beforeLeave:f,handleClose:C,onModalClick:N,close:L,doClose:K,onOpenAutoFocus:ee,onCloseAutoFocus:te,onCloseRequested:Je,onFocusoutPrevented:Y,titleId:u,bodyId:v,closed:i,style:h,overlayDialogStyle:w,rendered:g,visible:c,zIndex:m}},us=U({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:e=>e>=0&&e<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:b(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:b([String,Array,Function]),default:""},format:{type:b(Function),default:e=>`${e}%`}}),cs=["aria-valuenow"],ds={viewBox:"0 0 100 100"},fs=["d","stroke","stroke-width"],ps=["d","stroke","opacity","stroke-linecap","stroke-width"],ys={key:0},vs=O({name:"ElProgress"}),ms=O(z(A({},vs),{props:us,setup(e){const t=e,s={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},a=j("progress"),l=$(()=>({width:`${t.percentage}%`,animationDuration:`${t.duration}s`,backgroundColor:V(t.percentage)})),p=$(()=>(t.strokeWidth/t.width*100).toFixed(1)),u=$(()=>["circle","dashboard"].includes(t.type)?Number.parseInt(`${50-Number.parseFloat(p.value)/2}`,10):0),v=$(()=>{const f=u.value,R=t.type==="dashboard";return`
          M 50 50
          m 0 ${R?"":"-"}${f}
          a ${f} ${f} 0 1 1 0 ${R?"-":""}${f*2}
          a ${f} ${f} 0 1 1 0 ${R?"":"-"}${f*2}
          `}),c=$(()=>2*Math.PI*u.value),i=$(()=>t.type==="dashboard"?.75:1),g=$(()=>`${-1*c.value*(1-i.value)/2}px`),m=$(()=>({strokeDasharray:`${c.value*i.value}px, ${c.value}px`,strokeDashoffset:g.value})),r=$(()=>({strokeDasharray:`${c.value*i.value*(t.percentage/100)}px, ${c.value}px`,strokeDashoffset:g.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),d=$(()=>{let f;return t.color?f=V(t.percentage):f=s[t.status]||s.default,f}),o=$(()=>t.status==="warning"?gt:t.type==="line"?t.status==="success"?Ne:bt:t.status==="success"?Ae:ze),h=$(()=>t.type==="line"?12+t.strokeWidth*.4:t.width*.111111+2),w=$(()=>t.format(t.percentage));function y(f){const R=100/f.length;return f.map((C,N)=>pe(C)?{color:C,percentage:(N+1)*R}:C).sort((C,N)=>C.percentage-N.percentage)}const V=f=>{var R;const{color:L}=t;if(Me(L))return L(f);if(pe(L))return L;{const C=y(L);for(const N of C)if(N.percentage>f)return N.color;return(R=C[C.length-1])==null?void 0:R.color}};return(f,R)=>(S(),T("div",{class:k([n(a).b(),n(a).m(f.type),n(a).is(f.status),{[n(a).m("without-text")]:!f.showText,[n(a).m("text-inside")]:f.textInside}]),role:"progressbar","aria-valuenow":f.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[f.type==="line"?(S(),T("div",{key:0,class:k(n(a).b("bar"))},[x("div",{class:k(n(a).be("bar","outer")),style:X({height:`${f.strokeWidth}px`})},[x("div",{class:k([n(a).be("bar","inner"),{[n(a).bem("bar","inner","indeterminate")]:f.indeterminate}]),style:X(n(l))},[(f.showText||f.$slots.default)&&f.textInside?(S(),T("div",{key:0,class:k(n(a).be("bar","innerText"))},[P(f.$slots,"default",{percentage:f.percentage},()=>[x("span",null,ie(n(w)),1)])],2)):E("v-if",!0)],6)],6)],2)):(S(),T("div",{key:1,class:k(n(a).b("circle")),style:X({height:`${f.width}px`,width:`${f.width}px`})},[(S(),T("svg",ds,[x("path",{class:k(n(a).be("circle","track")),d:n(v),stroke:`var(${n(a).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":n(p),fill:"none",style:X(n(m))},null,14,fs),x("path",{class:k(n(a).be("circle","path")),d:n(v),stroke:n(d),fill:"none",opacity:f.percentage?1:0,"stroke-linecap":f.strokeLinecap,"stroke-width":n(p),style:X(n(r))},null,14,ps)]))],6)),(f.showText||f.$slots.default)&&!f.textInside?(S(),T("div",{key:2,class:k(n(a).e("text")),style:X({fontSize:`${n(h)}px`})},[P(f.$slots,"default",{percentage:f.percentage},()=>[f.status?(S(),I(n(Z),{key:1},{default:B(()=>[(S(),I(kt(n(o))))]),_:1})):(S(),T("span",ys,ie(n(w)),1))])],6)):E("v-if",!0)],10,cs))}}));var hs=ne(ms,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const gs=ge(hs),bs=U({prefixCls:{type:String}}),Re=O({name:"ElSpaceItem",props:bs,setup(e,{slots:t}){const s=j("space"),a=$(()=>`${e.prefixCls||s.b()}__item`);return()=>Ue("div",{class:a.value},P(t,"default"))}}),Fe={small:8,default:12,large:16};function ks(e){const t=j("space"),s=$(()=>[t.b(),t.m(e.direction),e.class]),a=H(0),l=H(0),p=$(()=>{const v=e.wrap||e.fill?{flexWrap:"wrap",marginBottom:`-${l.value}px`}:{},c={alignItems:e.alignment};return[v,c,e.style]}),u=$(()=>{const v={paddingBottom:`${l.value}px`,marginRight:`${a.value}px`},c=e.fill?{flexGrow:1,minWidth:`${e.fillRatio}%`}:{};return[v,c]});return wt(()=>{const{size:v="small",wrap:c,direction:i,fill:g}=e;if(J(v)){const[m=0,r=0]=v;a.value=m,l.value=r}else{let m;le(v)?m=v:m=Fe[v||"small"]||Fe.small,(c||g)&&i==="horizontal"?a.value=l.value=m:i==="horizontal"?(a.value=m,l.value=0):(l.value=m,a.value=0)}}),{classes:s,containerStyle:p,itemStyle:u}}const ws=U({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:b([String,Object,Array]),default:""},style:{type:b([String,Array,Object]),default:""},alignment:{type:b(String),default:"center"},prefixCls:{type:String},spacer:{type:b([Object,String,Number,Array]),default:null,validator:e=>xe(e)||le(e)||pe(e)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:$t,validator:e=>le(e)||J(e)&&e.length===2&&e.every(le)}}),Ss=O({name:"ElSpace",props:ws,setup(e,{slots:t}){const{classes:s,containerStyle:a,itemStyle:l}=ks(e);function p(u,v="",c=[]){const{prefixCls:i}=e;return u.forEach((g,m)=>{Ce(g)?J(g.children)&&g.children.forEach((r,d)=>{Ce(r)&&J(r.children)?p(r.children,`${v+d}-`,c):c.push(F(Re,{style:l.value,prefixCls:i,key:`nested-${v+d}`},{default:()=>[r]},M.PROPS|M.STYLE,["style","prefixCls"]))}):Nt(g)&&c.push(F(Re,{style:l.value,prefixCls:i,key:`LoopKey${v+m}`},{default:()=>[g]},M.PROPS|M.STYLE,["style","prefixCls"]))}),c}return()=>{var u;const{spacer:v,direction:c}=e,i=P(t,"default",{key:0},()=>[]);if(((u=i.children)!=null?u:[]).length===0)return null;if(J(i.children)){let g=p(i.children);if(v){const m=g.length-1;g=g.reduce((r,d,o)=>{const h=[...r,d];return o!==m&&h.push(F("span",{style:[l.value,c==="vertical"?"width: 100%":null],key:o},[xe(v)?v:St(v,M.TEXT)],M.STYLE)),h},[])}return F("div",{class:s.value,style:a.value},g,M.STYLE|M.CLASS)}return i.children}}}),pa=ge(Ss),Ye=Symbol("uploadContextKey"),$s="ElUpload";class Es extends Error{constructor(t,s,a,l){super(t),this.name="UploadAjaxError",this.status=s,this.method=a,this.url=l}}function Le(e,t,s){let a;return s.response?a=`${s.response.error||s.response}`:s.responseText?a=`${s.responseText}`:a=`fail to ${t.method} ${e} ${s.status}`,new Es(a,s.status,t.method,e)}function Cs(e){const t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(s){return t}}const _s=e=>{typeof XMLHttpRequest=="undefined"&&ue($s,"XMLHttpRequest is undefined");const t=new XMLHttpRequest,s=e.action;t.upload&&t.upload.addEventListener("progress",p=>{const u=p;u.percent=p.total>0?p.loaded/p.total*100:0,e.onProgress(u)});const a=new FormData;if(e.data)for(const[p,u]of Object.entries(e.data))Array.isArray(u)?a.append(p,...u):a.append(p,u);a.append(e.filename,e.file,e.file.name),t.addEventListener("error",()=>{e.onError(Le(s,e,t))}),t.addEventListener("load",()=>{if(t.status<200||t.status>=300)return e.onError(Le(s,e,t));e.onSuccess(Cs(t))}),t.open(e.method,s,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);const l=e.headers||{};if(l instanceof Headers)l.forEach((p,u)=>t.setRequestHeader(u,p));else for(const[p,u]of Object.entries(l))Ve(u)||t.setRequestHeader(p,String(u));return t.send(a),t},Ge=["text","picture","picture-card"];let Ps=1;const he=()=>Date.now()+Ps++,Xe=U({action:{type:String,default:"#"},headers:{type:b(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>ye({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:b(Array),default:()=>ye([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ge,default:"text"},httpRequest:{type:b(Function),default:_s},disabled:Boolean,limit:Number}),Ts=U(z(A({},Xe),{beforeUpload:{type:b(Function),default:_},beforeRemove:{type:b(Function)},onRemove:{type:b(Function),default:_},onChange:{type:b(Function),default:_},onPreview:{type:b(Function),default:_},onSuccess:{type:b(Function),default:_},onProgress:{type:b(Function),default:_},onError:{type:b(Function),default:_},onExceed:{type:b(Function),default:_}})),Rs=U({files:{type:b(Array),default:()=>ye([])},disabled:{type:Boolean,default:!1},handlePreview:{type:b(Function),default:_},listType:{type:String,values:Ge,default:"text"}}),Fs={remove:e=>!!e},Ls=["onKeydown"],Bs=["src"],Os=["onClick"],Ds=["onClick"],Ms=["onClick"],Is=O({name:"ElUploadList"}),Us=O(z(A({},Is),{props:Rs,emits:Fs,setup(e,{emit:t}){const{t:s}=Et(),a=j("upload"),l=j("icon"),p=j("list"),u=ce(),v=H(!1),c=i=>{t("remove",i)};return(i,g)=>(S(),I(Ft,{tag:"ul",class:k([n(a).b("list"),n(a).bm("list",i.listType),n(a).is("disabled",n(u))]),name:n(p).b()},{default:B(()=>[(S(!0),T(Ct,null,_t(i.files,m=>(S(),T("li",{key:m.uid||m.name,class:k([n(a).be("list","item"),n(a).is(m.status),{focusing:v.value}]),tabindex:"0",onKeydown:We(r=>!n(u)&&c(m),["delete"]),onFocus:g[0]||(g[0]=r=>v.value=!0),onBlur:g[1]||(g[1]=r=>v.value=!1),onClick:g[2]||(g[2]=r=>v.value=!1)},[P(i.$slots,"default",{file:m},()=>[i.listType==="picture"||m.status!=="uploading"&&i.listType==="picture-card"?(S(),T("img",{key:0,class:k(n(a).be("list","item-thumbnail")),src:m.url,alt:""},null,10,Bs)):E("v-if",!0),m.status==="uploading"||i.listType!=="picture-card"?(S(),T("div",{key:1,class:k(n(a).be("list","item-info"))},[x("a",{class:k(n(a).be("list","item-name")),onClick:Q(r=>i.handlePreview(m),["prevent"])},[F(n(Z),{class:k(n(l).m("document"))},{default:B(()=>[F(n(Pt))]),_:1},8,["class"]),x("span",{class:k(n(a).be("list","item-file-name"))},ie(m.name),3)],10,Os),m.status==="uploading"?(S(),I(n(gs),{key:0,type:i.listType==="picture-card"?"circle":"line","stroke-width":i.listType==="picture-card"?6:2,percentage:Number(m.percentage),style:X(i.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):E("v-if",!0)],2)):E("v-if",!0),x("label",{class:k(n(a).be("list","item-status-label"))},[i.listType==="text"?(S(),I(n(Z),{key:0,class:k([n(l).m("upload-success"),n(l).m("circle-check")])},{default:B(()=>[F(n(Ne))]),_:1},8,["class"])):["picture-card","picture"].includes(i.listType)?(S(),I(n(Z),{key:1,class:k([n(l).m("upload-success"),n(l).m("check")])},{default:B(()=>[F(n(Ae))]),_:1},8,["class"])):E("v-if",!0)],2),n(u)?E("v-if",!0):(S(),I(n(Z),{key:2,class:k(n(l).m("close")),onClick:r=>c(m)},{default:B(()=>[F(n(ze))]),_:2},1032,["class","onClick"])),E(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),E(" This is a bug which needs to be fixed "),E(" TODO: Fix the incorrect navigation interaction "),n(u)?E("v-if",!0):(S(),T("i",{key:3,class:k(n(l).m("close-tip"))},ie(n(s)("el.upload.deleteTip")),3)),i.listType==="picture-card"?(S(),T("span",{key:4,class:k(n(a).be("list","item-actions"))},[x("span",{class:k(n(a).be("list","item-preview")),onClick:r=>i.handlePreview(m)},[F(n(Z),{class:k(n(l).m("zoom-in"))},{default:B(()=>[F(n(Tt))]),_:1},8,["class"])],10,Ds),n(u)?E("v-if",!0):(S(),T("span",{key:0,class:k(n(a).be("list","item-delete")),onClick:r=>c(m)},[F(n(Z),{class:k(n(l).m("delete"))},{default:B(()=>[F(n(Rt))]),_:1},8,["class"])],10,Ms))],2)):E("v-if",!0)])],42,Ls))),128)),P(i.$slots,"append")]),_:3},8,["class","name"]))}}));var Be=ne(Us,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Ns=U({disabled:{type:Boolean,default:!1}}),As={file:e=>J(e)},zs=["onDrop","onDragover"],Ze="ElUploadDrag",xs=O({name:Ze}),Ws=O(z(A({},xs),{props:Ns,emits:As,setup(e,{emit:t}){const s=Lt(Ye);s||ue(Ze,"usage: <el-upload><el-upload-dragger /></el-upload>");const a=j("upload"),l=H(!1),p=ce(),u=c=>{if(p.value)return;l.value=!1,c.stopPropagation();const i=Array.from(c.dataTransfer.files),g=s.accept.value;if(!g){t("file",i);return}const m=i.filter(r=>{const{type:d,name:o}=r,h=o.includes(".")?`.${o.split(".").pop()}`:"",w=d.replace(/\/.*$/,"");return g.split(",").map(y=>y.trim()).filter(y=>y).some(y=>y.startsWith(".")?h===y:/\/\*$/.test(y)?w===y.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(y)?d===y:!1)});t("file",m)},v=()=>{p.value||(l.value=!0)};return(c,i)=>(S(),T("div",{class:k([n(a).b("dragger"),n(a).is("dragover",l.value)]),onDrop:Q(u,["prevent"]),onDragover:Q(v,["prevent"]),onDragleave:i[0]||(i[0]=Q(g=>l.value=!1,["prevent"]))},[P(c.$slots,"default")],42,zs))}}));var js=ne(Ws,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Vs=U(z(A({},Xe),{beforeUpload:{type:b(Function),default:_},onRemove:{type:b(Function),default:_},onStart:{type:b(Function),default:_},onSuccess:{type:b(Function),default:_},onProgress:{type:b(Function),default:_},onError:{type:b(Function),default:_},onExceed:{type:b(Function),default:_}})),Hs=["onKeydown"],qs=["name","multiple","accept"],Ks=O({name:"ElUploadContent",inheritAttrs:!1}),Ys=O(z(A({},Ks),{props:Vs,setup(e,{expose:t}){const s=e,a=j("upload"),l=ce(),p=ve({}),u=ve(),v=o=>{if(o.length===0)return;const{autoUpload:h,limit:w,fileList:y,multiple:V,onStart:f,onExceed:R}=s;if(w&&y.length+o.length>w){R(o,y);return}V||(o=o.slice(0,1));for(const L of o){const C=L;C.uid=he(),f(C),h&&c(C)}},c=o=>fe(this,null,function*(){if(u.value.value="",!s.beforeUpload)return i(o);let h;try{h=yield s.beforeUpload(o)}catch(y){h=!1}if(h===!1){s.onRemove(o);return}let w=o;h instanceof Blob&&(h instanceof File?w=h:w=new File([h],o.name,{type:o.type})),i(Object.assign(w,{uid:o.uid}))}),i=o=>{const{headers:h,data:w,method:y,withCredentials:V,name:f,action:R,onProgress:L,onSuccess:C,onError:N,httpRequest:oe}=s,{uid:K}=o,ee={headers:h||{},withCredentials:V,file:o,data:w,method:y,filename:f,action:R,onProgress:Y=>{L(Y,o)},onSuccess:Y=>{C(Y,o),delete p.value[K]},onError:Y=>{N(Y,o),delete p.value[K]}},te=oe(ee);p.value[K]=te,te instanceof Promise&&te.then(ee.onSuccess,ee.onError)},g=o=>{const h=o.target.files;h&&v(Array.from(h))},m=()=>{l.value||(u.value.value="",u.value.click())},r=()=>{m()};return t({abort:o=>{Bt(p.value).filter(o?([w])=>String(o.uid)===w:()=>!0).forEach(([w,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete p.value[w]})},upload:c}),(o,h)=>(S(),T("div",{class:k([n(a).b(),n(a).m(o.listType),n(a).is("drag",o.drag)]),tabindex:"0",onClick:m,onKeydown:We(Q(r,["self"]),["enter","space"])},[o.drag?(S(),I(js,{key:0,disabled:n(l),onFile:v},{default:B(()=>[P(o.$slots,"default")]),_:3},8,["disabled"])):P(o.$slots,"default",{key:1}),x("input",{ref_key:"inputRef",ref:u,class:k(n(a).e("input")),name:o.name,multiple:o.multiple,accept:o.accept,type:"file",onChange:g,onClick:h[0]||(h[0]=Q(()=>{},["stop"]))},null,42,qs)],42,Hs))}}));var Oe=ne(Ys,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const De="ElUpload",Gs=e=>{var t;(t=e.url)!=null&&t.startsWith("blob:")&&URL.revokeObjectURL(e.url)},Xs=(e,t)=>{const s=Ot(e,"fileList",void 0,{passive:!0}),a=r=>s.value.find(d=>d.uid===r.uid);function l(r){var d;(d=t.value)==null||d.abort(r)}function p(r=["ready","uploading","success","fail"]){s.value=s.value.filter(d=>!r.includes(d.status))}const u=(r,d)=>{const o=a(d);o&&(console.error(r),o.status="fail",s.value.splice(s.value.indexOf(o),1),e.onError(r,o,s.value),e.onChange(o,s.value))},v=(r,d)=>{const o=a(d);o&&(e.onProgress(r,o,s.value),o.status="uploading",o.percentage=Math.round(r.percent))},c=(r,d)=>{const o=a(d);o&&(o.status="success",o.response=r,e.onSuccess(r,o,s.value),e.onChange(o,s.value))},i=r=>{Ve(r.uid)&&(r.uid=he());const d={name:r.name,percentage:0,status:"ready",size:r.size,raw:r,uid:r.uid};if(e.listType==="picture-card"||e.listType==="picture")try{d.url=URL.createObjectURL(r)}catch(o){At(De,o.message),e.onError(o,d,s.value)}s.value=[...s.value,d],e.onChange(d,s.value)},g=r=>fe(void 0,null,function*(){const d=r instanceof File?a(r):r;d||ue(De,"file to be removed not found");const o=h=>{l(h);const w=s.value;w.splice(w.indexOf(h),1),e.onRemove(h,w),Gs(h)};e.beforeRemove?(yield e.beforeRemove(d,s.value))!==!1&&o(d):o(d)});function m(){s.value.filter(({status:r})=>r==="ready").forEach(({raw:r})=>{var d;return r&&((d=t.value)==null?void 0:d.upload(r))})}return ae(()=>e.listType,r=>{r!=="picture-card"&&r!=="picture"||(s.value=s.value.map(d=>{const{raw:o,url:h}=d;if(!h&&o)try{d.url=URL.createObjectURL(o)}catch(w){e.onError(w,d,s.value)}return d}))}),ae(s,r=>{for(const d of r)d.uid||(d.uid=he()),d.status||(d.status="success")},{immediate:!0,deep:!0}),{uploadFiles:s,abort:l,clearFiles:p,handleError:u,handleProgress:v,handleStart:i,handleSuccess:c,handleRemove:g,submit:m}},Zs=O({name:"ElUpload"}),Js=O(z(A({},Zs),{props:Ts,setup(e,{expose:t}){const s=e,a=Dt(),l=ce(),p=ve(),{abort:u,submit:v,clearFiles:c,uploadFiles:i,handleStart:g,handleError:m,handleRemove:r,handleSuccess:d,handleProgress:o}=Xs(s,p),h=$(()=>s.listType==="picture-card"),w=$(()=>z(A({},s),{fileList:i.value,onStart:g,onProgress:o,onSuccess:d,onError:m,onRemove:r}));return Mt(()=>{i.value.forEach(({url:y})=>{y!=null&&y.startsWith("blob:")&&URL.revokeObjectURL(y)})}),It(Ye,{accept:Ut(s,"accept")}),t({abort:u,submit:v,clearFiles:c,handleStart:g,handleRemove:r}),(y,V)=>(S(),T("div",null,[n(h)&&y.showFileList?(S(),I(Be,{key:0,disabled:n(l),"list-type":y.listType,files:n(i),"handle-preview":y.onPreview,onRemove:n(r)},$e({append:B(()=>[F(Oe,Ee({ref_key:"uploadRef",ref:p},n(w)),{default:B(()=>[n(a).trigger?P(y.$slots,"trigger",{key:0}):E("v-if",!0),!n(a).trigger&&n(a).default?P(y.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)]),_:2},[y.$slots.file?{name:"default",fn:B(({file:f})=>[P(y.$slots,"file",{file:f})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):E("v-if",!0),!n(h)||n(h)&&!y.showFileList?(S(),I(Oe,Ee({key:1,ref_key:"uploadRef",ref:p},n(w)),{default:B(()=>[n(a).trigger?P(y.$slots,"trigger",{key:0}):E("v-if",!0),!n(a).trigger&&n(a).default?P(y.$slots,"default",{key:1}):E("v-if",!0)]),_:3},16)):E("v-if",!0),y.$slots.trigger?P(y.$slots,"default",{key:2}):E("v-if",!0),P(y.$slots,"tip"),!n(h)&&y.showFileList?(S(),I(Be,{key:3,disabled:n(l),"list-type":y.listType,files:n(i),"handle-preview":y.onPreview,onRemove:n(r)},$e({_:2},[y.$slots.file?{name:"default",fn:B(({file:f})=>[P(y.$slots,"file",{file:f})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):E("v-if",!0)]))}}));var Qs=ne(Js,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const ya=ge(Qs);export{ia as E,da as a,pa as b,ra as c,ca as d,ya as e,is as f,ua as g,ns as h,fa as u};
